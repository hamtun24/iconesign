exports.id=150,exports.ids=[150],exports.modules={2565:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},8851:(e,t,r)=>{Promise.resolve().then(r.bind(r,2755)),Promise.resolve().then(r.bind(r,2105)),Promise.resolve().then(r.bind(r,6400))},2755:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthGuard:()=>b});var s=r(2295),a=r(3729),n=r(7916),i=r(2739),l=r(3485),o=r(6603),c=r(2810),d=r(6138),u=r(1206),m=r(7958),h=r(1222),x=r(3148);function p({onSuccess:e}){let[t,r]=(0,a.useState)(""),[l,p]=(0,a.useState)(""),[b,g]=(0,a.useState)(!1),[f,v]=(0,a.useState)(!1),{signIn:y,isLoading:j,error:w,clearError:N}=(0,o.t)(),k=async r=>{if(r.preventDefault(),N(),t&&l)try{await y(t,l),e?.()}catch(e){}};return(0,s.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-adorable-blue via-adorable-purple to-adorable-pink p-4",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative w-full max-w-md",children:[(0,s.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 border border-white/20",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx(n.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-gradient-to-r from-adorable-blue to-adorable-purple rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(c.Z,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Connexion"}),s.jsx("p",{className:"text-gray-600",children:"Acc\xe9dez \xe0 votre espace de traitement des factures"})]}),w&&(0,s.jsxs)(n.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[s.jsx(d.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("span",{className:"text-red-700 text-sm",children:w})]}),(0,s.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(u.Z,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",type:"text",value:t,onChange:e=>{r(e.target.value),w&&N()},className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-adorable-blue focus:border-transparent transition-colors",placeholder:"votre@email.com",required:!0,disabled:j})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(m.Z,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",type:b?"text":"password",value:l,onChange:e=>{p(e.target.value),w&&N()},className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-adorable-blue focus:border-transparent transition-colors",placeholder:"••••••••",required:!0,disabled:j}),s.jsx("button",{type:"button",onClick:()=>g(!b),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:j,children:b?s.jsx(h.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx(x.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:f,onChange:e=>v(e.target.checked),className:"rounded border-gray-300 text-adorable-blue focus:ring-adorable-blue",disabled:j}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Se souvenir de moi"})]}),s.jsx("button",{type:"button",className:"text-sm text-adorable-blue hover:text-adorable-purple transition-colors",disabled:j,children:"Mot de passe oubli\xe9 ?"})]}),s.jsx(n.E.button,{type:"submit",disabled:j||!t||!l,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-adorable-blue to-adorable-purple text-white py-3 px-4 rounded-lg font-medium shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j?(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.Z,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Connexion en cours..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{className:"w-5 h-5"}),s.jsx("span",{children:"Se connecter"})]})})]}),s.jsx("div",{className:"mt-8 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Pas encore de compte ?"," ",s.jsx("button",{className:"text-adorable-blue hover:text-adorable-purple font-medium transition-colors",children:"Contactez l'administrateur"})]})})]}),s.jsx(n.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6 text-center text-white/80 text-sm",children:s.jsx("p",{children:"\uD83D\uDD12 Connexion s\xe9curis\xe9e avec chiffrement SSL"})})]})]})}function b({children:e}){let{isAuthenticated:t,isLoading:r,checkAuth:c,user:d}=(0,o.t)(),[u,m]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{await c(),m(!1)})()},[c]),u||r)?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-adorable-blue via-adorable-purple to-adorable-pink",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center text-white",children:[s.jsx(n.E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto mb-4",children:s.jsx(i.Z,{className:"w-16 h-16"})}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"V\xe9rification de l'authentification"}),s.jsx("p",{className:"text-white/80",children:"Veuillez patienter..."})]})}):t?d&&!d.hasCredentials?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-adorable-blue via-adorable-purple to-adorable-pink p-4",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 border border-white/20 max-w-md w-full text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(l.Z,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Configuration requise"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Vos identifiants TTN et ANCE SEAL ne sont pas configur\xe9s. Veuillez contacter l'administrateur pour configurer vos acc\xe8s."}),(0,s.jsxs)("div",{className:"space-y-3 text-sm text-gray-500",children:[s.jsx("p",{children:"✓ Compte utilisateur cr\xe9\xe9"}),s.jsx("p",{children:"✗ Identifiants TTN manquants"}),s.jsx("p",{children:"✗ Identifiants ANCE SEAL manquants"})]}),s.jsx("button",{onClick:()=>o.t.getState().signOut(),className:"mt-6 px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Se d\xe9connecter"})]})}):s.jsx(s.Fragment,{children:e}):s.jsx(p,{onSuccess:()=>window.location.reload()})}},2105:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ThemeProvider:()=>n});var s=r(2295);r(3729);var a=r(6256);function n({children:e,...t}){return s.jsx(a.f,{...t,children:e})}},6400:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Toaster:()=>i});var s=r(2295),a=r(6256),n=r(4755);let i=({...e})=>{let{theme:t="system"}=(0,a.F)();return s.jsx(n.x7,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})}},6603:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var s=r(3158),a=r(7023);let n=(0,s.Ue)()((0,a.tJ)((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,signIn:async(t,r)=>{e({isLoading:!0,error:null});try{let s=await fetch("https://itchy-cars-march.loca.lt/api/v1/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usernameOrEmail:t,password:r})}),a=await s.json();if(!s.ok)throw Error(a.message||"Erreur de connexion");if(a.success&&a.data){let{token:t,...r}=a.data;e({user:r,token:t,isAuthenticated:!0,isLoading:!1,error:null}),localStorage.setItem("auth_token",t)}else throw Error(a.message||"R\xe9ponse invalide du serveur")}catch(t){throw console.error("Sign in error:",t),e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:t instanceof Error?t.message:"Erreur de connexion inconnue"}),t}},signOut:()=>{localStorage.removeItem("auth_token"),e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})},clearError:()=>{e({error:null})},checkAuth:async()=>{let t=localStorage.getItem("auth_token");if(!t){e({isAuthenticated:!1,user:null,token:null});return}e({isLoading:!0});try{let r=await fetch("https://itchy-cars-march.loca.lt/api/v1/auth/me",{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw Error("Token invalide");let s=await r.json();if(s.success&&s.data)e({user:s.data,token:t,isAuthenticated:!0,isLoading:!1,error:null});else throw Error("Donn\xe9es utilisateur invalides")}catch(t){console.error("Auth check error:",t),localStorage.removeItem("auth_token"),e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})}}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))},7109:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w,metadata:()=>j});var s=r(5036),a=r(450),n=r.n(a),i=r(4499),l=r.n(i);r(7272);var o=r(6843);let c=(0,o.createProxy)(String.raw`C:\Users\USER\Documents\fullstack5\fullstack3\fullstack\InvoiceProcessorUI\src\components\ui\sonner.tsx`),{__esModule:d,$$typeof:u}=c;c.default;let m=(0,o.createProxy)(String.raw`C:\Users\USER\Documents\fullstack5\fullstack3\fullstack\InvoiceProcessorUI\src\components\ui\sonner.tsx#Toaster`),h=(0,o.createProxy)(String.raw`C:\Users\USER\Documents\fullstack5\fullstack3\fullstack\InvoiceProcessorUI\src\components\theme-provider.tsx`),{__esModule:x,$$typeof:p}=h;h.default;let b=(0,o.createProxy)(String.raw`C:\Users\USER\Documents\fullstack5\fullstack3\fullstack\InvoiceProcessorUI\src\components\theme-provider.tsx#ThemeProvider`),g=(0,o.createProxy)(String.raw`C:\Users\USER\Documents\fullstack5\fullstack3\fullstack\InvoiceProcessorUI\src\components\auth\auth-guard.tsx`),{__esModule:f,$$typeof:v}=g;g.default;let y=(0,o.createProxy)(String.raw`C:\Users\USER\Documents\fullstack5\fullstack3\fullstack\InvoiceProcessorUI\src\components\auth\auth-guard.tsx#AuthGuard`),j={title:"IconeSign - Plateforme de Signature \xc9lectronique",description:"Interface moderne et \xe9l\xe9gante pour traiter vos factures \xe9lectroniques : Signer → Sauvegarder → Valider → Transformer → T\xe9l\xe9charger",keywords:["facture","signature \xe9lectronique","TTN","ANCE SEAL","e-facturation","IconeSign"],authors:[{name:"\xc9quipe IconeSign"}],viewport:"width=device-width, initial-scale=1"};function w({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:`${n().variable} ${l().variable} font-sans antialiased`,children:(0,s.jsxs)(b,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:[s.jsx(y,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:e})}),s.jsx(m,{position:"top-right"})]})})})}},7272:()=>{}};